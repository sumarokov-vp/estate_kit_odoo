title: "Webhook secret в настройках Odoo"
status: open
created_at: 12.02.2026
completed_at: null

todoist:
  task_id: "6g24JPC2fr9m278H"

description: |
  Добавить webhook_secret в настройки API модуля.
  Этот секрет используется для проверки HMAC-подписи входящих webhook-событий
  от центрального API.

  Новый параметр:
  - estate_kit.webhook_secret — секретный ключ для HMAC-SHA256 верификации webhooks
  - estate_kit.webhook_url — URL, по которому Odoo принимает webhook (для авто-регистрации)

  UI: добавить в Settings → Estate Kit → API, секция "Webhooks".

recommendation: |
  1. В models/res_config_settings.py добавить поля:
     estate_kit_webhook_secret = fields.Char(
         string="Webhook Secret",
         config_parameter="estate_kit.webhook_secret",
     )
     estate_kit_webhook_url = fields.Char(
         string="Webhook URL",
         config_parameter="estate_kit.webhook_url",
     )

  2. В views/res_config_settings_views.xml — добавить блок "Webhooks"
     с полями webhook_secret (password=True) и webhook_url (placeholder)

  3. В data/ir_config_parameter.xml — дефолтные пустые значения

solution: null
